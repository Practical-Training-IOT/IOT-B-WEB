/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{f as e,c as l,u as a}from"./087AC4D233B64EB0alarms.BAzRKnSt.js";import{Q as u,u as r,a as t,r as d,g as i,c as o,o as v,b as n,f as s,w as p,F as m,D as b,i as c,h as g,S as f,E as y}from"./087AC4D233B64EB0index.CO5TVuii.js";import{_}from"./087AC4D233B64EB0rich-edit.ylmqdvQl.js";import"./087AC4D233B64EB0image.DZXThNBc.js";const V={class:"gva-form-box"},h=Object.assign({name:"AlarmsForm"},{__name:"alarmsForm",setup(h){const w=u(),k=r(),U=t(!1),j=t(""),C=t([]),q=t([]),D=t([]),T=t([]),N=t([]),P=t([]),B=t([]),A=t([]),E=t([]),L=t({ruleName:"",alarmType:"",alarmLevel:"",ruleDescription:"",triggerMode:"",valueType:"",valuePeriod:"",judgingCondition:"",value:"",silencePeriod:"",meanNotification:"",status:""}),M=d({ruleName:[{required:!0,message:"",trigger:["input","blur"]}],alarmType:[{required:!0,message:"",trigger:["input","blur"]}],alarmLevel:[{required:!0,message:"",trigger:["input","blur"]}],triggerMode:[{required:!0,message:"",trigger:["input","blur"]}],valueType:[{required:!0,message:"",trigger:["input","blur"]}],valuePeriod:[{required:!0,message:"",trigger:["input","blur"]}],judgingCondition:[{required:!0,message:"",trigger:["input","blur"]}],value:[{required:!0,message:"",trigger:["input","blur"]}]}),x=t();(async()=>{if(w.query.id){const l=await e({ID:w.query.id});0===l.code&&(L.value=l.data,j.value="update")}else j.value="create";C.value=await f("judging_condition"),q.value=await f("mean_notification"),D.value=await f("alert_type"),T.value=await f("silence_period"),N.value=await f("Rule_status"),P.value=await f("alert_level"),B.value=await f("trigger_type"),A.value=await f("value_type"),E.value=await f("value_period")})();const F=async()=>{var e;U.value=!0,null==(e=x.value)||e.validate((async e=>{if(!e)return U.value=!1;let u;switch(j.value){case"create":default:u=await l(L.value);break;case"update":u=await a(L.value)}U.value=!1,0===u.code&&y({type:"success",message:"创建/更改成功"})}))},I=()=>{k.go(-1)};return(e,l)=>{const a=i("el-input"),u=i("el-form-item"),r=i("el-option"),t=i("el-select"),d=i("el-button"),f=i("el-form");return v(),o("div",null,[n("div",V,[s(f,{model:L.value,ref_key:"elFormRef",ref:x,"label-position":"right",rules:M,"label-width":"80px"},{default:p((()=>[s(u,{label:"规则名称:",prop:"ruleName"},{default:p((()=>[s(a,{modelValue:L.value.ruleName,"onUpdate:modelValue":l[0]||(l[0]=e=>L.value.ruleName=e),clearable:!0,placeholder:"请输入规则名称"},null,8,["modelValue"])])),_:1}),s(u,{label:"告警类型:",prop:"alarmType"},{default:p((()=>[s(t,{modelValue:L.value.alarmType,"onUpdate:modelValue":l[1]||(l[1]=e=>L.value.alarmType=e),placeholder:"请选择告警类型",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(D.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"告警级别:",prop:"alarmLevel"},{default:p((()=>[s(t,{modelValue:L.value.alarmLevel,"onUpdate:modelValue":l[2]||(l[2]=e=>L.value.alarmLevel=e),placeholder:"请选择告警级别",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(P.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"规则描述:",prop:"ruleDescription"},{default:p((()=>[s(_,{modelValue:L.value.ruleDescription,"onUpdate:modelValue":l[3]||(l[3]=e=>L.value.ruleDescription=e)},null,8,["modelValue"])])),_:1}),s(u,{label:"触发方式:",prop:"triggerMode"},{default:p((()=>[s(t,{modelValue:L.value.triggerMode,"onUpdate:modelValue":l[4]||(l[4]=e=>L.value.triggerMode=e),placeholder:"请选择触发方式",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(B.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"取值类型:",prop:"valueType"},{default:p((()=>[s(t,{modelValue:L.value.valueType,"onUpdate:modelValue":l[5]||(l[5]=e=>L.value.valueType=e),placeholder:"请选择取值类型",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(A.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"取值周期:",prop:"valuePeriod"},{default:p((()=>[s(t,{modelValue:L.value.valuePeriod,"onUpdate:modelValue":l[6]||(l[6]=e=>L.value.valuePeriod=e),placeholder:"请选择取值周期",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(E.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"判断条件:",prop:"judgingCondition"},{default:p((()=>[s(t,{modelValue:L.value.judgingCondition,"onUpdate:modelValue":l[7]||(l[7]=e=>L.value.judgingCondition=e),placeholder:"请选择判断条件",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(C.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"取值:",prop:"value"},{default:p((()=>[s(a,{modelValue:L.value.value,"onUpdate:modelValue":l[8]||(l[8]=e=>L.value.value=e),clearable:!0,placeholder:"请输入取值"},null,8,["modelValue"])])),_:1}),s(u,{label:"静默时间:",prop:"silencePeriod"},{default:p((()=>[s(t,{modelValue:L.value.silencePeriod,"onUpdate:modelValue":l[9]||(l[9]=e=>L.value.silencePeriod=e),placeholder:"请选择静默时间",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(T.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"通知方式:",prop:"meanNotification"},{default:p((()=>[s(t,{modelValue:L.value.meanNotification,"onUpdate:modelValue":l[10]||(l[10]=e=>L.value.meanNotification=e),placeholder:"请选择通知方式",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(q.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,{label:"状态:",prop:"status"},{default:p((()=>[s(t,{modelValue:L.value.status,"onUpdate:modelValue":l[11]||(l[11]=e=>L.value.status=e),placeholder:"请选择状态",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(v(!0),o(m,null,b(N.value,((e,l)=>(v(),c(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(u,null,{default:p((()=>[s(d,{loading:U.value,type:"primary",onClick:F},{default:p((()=>l[12]||(l[12]=[g("保存")]))),_:1},8,["loading"]),s(d,{type:"primary",onClick:I},{default:p((()=>l[13]||(l[13]=[g("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{h as default};
