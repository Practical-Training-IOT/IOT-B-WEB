/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{f as e,d as l,u as a}from"./087AC4D233B64EB0devices.Cp0jXCTS.js";import{Q as u,u as d,a as t,r as o,g as r,c as i,o as s,b as v,f as n,w as p,F as c,D as m,i as _,h as b,S as f,E as g}from"./087AC4D233B64EB0index.CO5TVuii.js";import{_ as V}from"./087AC4D233B64EB0rich-edit.ylmqdvQl.js";import"./087AC4D233B64EB0image.DZXThNBc.js";const h={class:"gva-form-box"},y=Object.assign({name:"DevicesForm"},{__name:"devicesForm",setup(y){const w=u(),k=d(),U=t(!1),B=t(""),D=t([]),C=t([]),j=t([]),q=t([]),E=t([]),x=t({product_range:"",platform:"",drive:"",status:"",add_device_method:"",drive_name:"",belonging_products:"",association_driven:"",device_description:""}),A=o({add_device_method:[{required:!0,message:"",trigger:["input","blur"]}],drive_name:[{required:!0,message:"",trigger:["input","blur"]}],belonging_products:[{required:!0,message:"",trigger:["input","blur"]}]}),F=t();(async()=>{if(w.query.id){const l=await e({ID:w.query.id});0===l.code&&(x.value=l.data,B.value="update")}else B.value="create";D.value=await f("addDeviceMethod"),C.value=await f("platformType"),j.value=await f("driveStatus"),q.value=await f("productRange"),E.value=await f("drive")})();const I=async()=>{var e;U.value=!0,null==(e=F.value)||e.validate((async e=>{if(!e)return U.value=!1;let u;switch(B.value){case"create":default:u=await l(x.value);break;case"update":u=await a(x.value)}U.value=!1,0===u.code&&g({type:"success",message:"创建/更改成功"})}))},O=()=>{k.go(-1)};return(e,l)=>{const a=r("el-option"),u=r("el-select"),d=r("el-form-item"),t=r("el-input"),o=r("el-button"),f=r("el-form");return s(),i("div",null,[v("div",h,[n(f,{model:x.value,ref_key:"elFormRef",ref:F,"label-position":"right",rules:A,"label-width":"80px"},{default:p((()=>[n(d,{label:"产品范围:",prop:"product_range"},{default:p((()=>[n(u,{modelValue:x.value.product_range,"onUpdate:modelValue":l[0]||(l[0]=e=>x.value.product_range=e),placeholder:"请选择产品范围",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(s(!0),i(c,null,m(q.value,((e,l)=>(s(),_(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(d,{label:"平台:",prop:"platform"},{default:p((()=>[n(u,{modelValue:x.value.platform,"onUpdate:modelValue":l[1]||(l[1]=e=>x.value.platform=e),placeholder:"请选择平台",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(s(!0),i(c,null,m(C.value,((e,l)=>(s(),_(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(d,{label:"驱动:",prop:"drive"},{default:p((()=>[n(u,{modelValue:x.value.drive,"onUpdate:modelValue":l[2]||(l[2]=e=>x.value.drive=e),placeholder:"请选择驱动",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(s(!0),i(c,null,m(E.value,((e,l)=>(s(),_(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(d,{label:"状态:",prop:"status"},{default:p((()=>[n(u,{modelValue:x.value.status,"onUpdate:modelValue":l[3]||(l[3]=e=>x.value.status=e),placeholder:"请选择状态",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(s(!0),i(c,null,m(j.value,((e,l)=>(s(),_(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(d,{label:"设备添加方式:",prop:"add_device_method"},{default:p((()=>[n(u,{modelValue:x.value.add_device_method,"onUpdate:modelValue":l[4]||(l[4]=e=>x.value.add_device_method=e),placeholder:"请选择设备添加方式",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(s(!0),i(c,null,m(D.value,((e,l)=>(s(),_(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(d,{label:"设备名称:",prop:"drive_name"},{default:p((()=>[n(t,{modelValue:x.value.drive_name,"onUpdate:modelValue":l[5]||(l[5]=e=>x.value.drive_name=e),clearable:!0,placeholder:"请输入设备名称"},null,8,["modelValue"])])),_:1}),n(d,{label:"所属产品:",prop:"belonging_products"},{default:p((()=>[n(t,{modelValue:x.value.belonging_products,"onUpdate:modelValue":l[6]||(l[6]=e=>x.value.belonging_products=e),clearable:!0,placeholder:"请输入所属产品"},null,8,["modelValue"])])),_:1}),n(d,{label:"关联驱动:",prop:"association_driven"},{default:p((()=>[n(t,{modelValue:x.value.association_driven,"onUpdate:modelValue":l[7]||(l[7]=e=>x.value.association_driven=e),clearable:!0,placeholder:"请输入关联驱动"},null,8,["modelValue"])])),_:1}),n(d,{label:"设备描述:",prop:"device_description"},{default:p((()=>[n(V,{modelValue:x.value.device_description,"onUpdate:modelValue":l[8]||(l[8]=e=>x.value.device_description=e)},null,8,["modelValue"])])),_:1}),n(d,null,{default:p((()=>[n(o,{loading:U.value,type:"primary",onClick:I},{default:p((()=>l[9]||(l[9]=[b("保存")]))),_:1},8,["loading"]),n(o,{type:"primary",onClick:O},{default:p((()=>l[10]||(l[10]=[b("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{y as default};
