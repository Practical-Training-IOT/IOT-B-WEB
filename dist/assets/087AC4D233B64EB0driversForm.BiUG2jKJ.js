/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{f as e,c as l,u as a}from"./087AC4D233B64EB0drivers.DmuE4pZk.js";import{Q as r,u,a as d,r as i,g as o,c as t,o as s,b as n,f as m,w as v,F as p,D as c,i as _,h as b,S as f,E as g}from"./087AC4D233B64EB0index.CO5TVuii.js";import{_ as V}from"./087AC4D233B64EB0rich-edit.ylmqdvQl.js";import"./087AC4D233B64EB0image.DZXThNBc.js";const y={class:"gva-form-box"},h=Object.assign({name:"DriversForm"},{__name:"driversForm",setup(h){const w=r(),B=u(),U=d(!1),q=d(""),D=d([]),k=d([]),C=d({driver_name:"",driver_type:"",mirror_number:"",agreement:"",mirror_address:"",driver_identification:"",version:"",description:""}),j=i({driver_name:[{required:!0,message:"",trigger:["input","blur"]}],agreement:[{required:!0,message:"",trigger:["input","blur"]}],mirror_address:[{required:!0,message:"",trigger:["input","blur"]}],driver_identification:[{required:!0,message:"",trigger:["input","blur"]}],version:[{required:!0,message:"",trigger:["input","blur"]}]}),E=d();(async()=>{if(w.query.id){const l=await e({ID:w.query.id});0===l.code&&(C.value=l.data,q.value="update")}else q.value="create";D.value=await f("drive_type"),k.value=await f("gatewayProtocol")})();const x=async()=>{var e;U.value=!0,null==(e=E.value)||e.validate((async e=>{if(!e)return U.value=!1;let r;switch(q.value){case"create":default:r=await l(C.value);break;case"update":r=await a(C.value)}U.value=!1,0===r.code&&g({type:"success",message:"创建/更改成功"})}))},A=()=>{B.go(-1)};return(e,l)=>{const a=o("el-input"),r=o("el-form-item"),u=o("el-option"),d=o("el-select"),i=o("el-button"),f=o("el-form");return s(),t("div",null,[n("div",y,[m(f,{model:C.value,ref_key:"elFormRef",ref:E,"label-position":"right",rules:j,"label-width":"80px"},{default:v((()=>[m(r,{label:"驱动名称:",prop:"driver_name"},{default:v((()=>[m(a,{modelValue:C.value.driver_name,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value.driver_name=e),clearable:!0,placeholder:"请输入驱动名称"},null,8,["modelValue"])])),_:1}),m(r,{label:"驱动类型:",prop:"driver_type"},{default:v((()=>[m(d,{modelValue:C.value.driver_type,"onUpdate:modelValue":l[1]||(l[1]=e=>C.value.driver_type=e),placeholder:"请选择驱动类型",style:{width:"100%"},filterable:"",clearable:!0},{default:v((()=>[(s(!0),t(p,null,c(D.value,((e,l)=>(s(),_(u,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(r,{label:"镜像编号:",prop:"mirror_number"},{default:v((()=>[m(a,{modelValue:C.value.mirror_number,"onUpdate:modelValue":l[2]||(l[2]=e=>C.value.mirror_number=e),clearable:!0,placeholder:"请输入镜像编号"},null,8,["modelValue"])])),_:1}),m(r,{label:"协议:",prop:"agreement"},{default:v((()=>[m(d,{modelValue:C.value.agreement,"onUpdate:modelValue":l[3]||(l[3]=e=>C.value.agreement=e),placeholder:"请选择协议",style:{width:"100%"},filterable:"",clearable:!0},{default:v((()=>[(s(!0),t(p,null,c(k.value,((e,l)=>(s(),_(u,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(r,{label:"镜像仓库地址:",prop:"mirror_address"},{default:v((()=>[m(a,{modelValue:C.value.mirror_address,"onUpdate:modelValue":l[4]||(l[4]=e=>C.value.mirror_address=e),clearable:!0,placeholder:"请输入镜像仓库地址"},null,8,["modelValue"])])),_:1}),m(r,{label:"驱动标识:",prop:"driver_identification"},{default:v((()=>[m(a,{modelValue:C.value.driver_identification,"onUpdate:modelValue":l[5]||(l[5]=e=>C.value.driver_identification=e),clearable:!0,placeholder:"请输入驱动标识"},null,8,["modelValue"])])),_:1}),m(r,{label:"版本:",prop:"version"},{default:v((()=>[m(a,{modelValue:C.value.version,"onUpdate:modelValue":l[6]||(l[6]=e=>C.value.version=e),clearable:!0,placeholder:"请输入版本"},null,8,["modelValue"])])),_:1}),m(r,{label:"描述:",prop:"description"},{default:v((()=>[m(V,{modelValue:C.value.description,"onUpdate:modelValue":l[7]||(l[7]=e=>C.value.description=e)},null,8,["modelValue"])])),_:1}),m(r,null,{default:v((()=>[m(i,{loading:U.value,type:"primary",onClick:x},{default:v((()=>l[8]||(l[8]=[b("保存")]))),_:1},8,["loading"]),m(i,{type:"primary",onClick:A},{default:v((()=>l[9]||(l[9]=[b("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{h as default};
