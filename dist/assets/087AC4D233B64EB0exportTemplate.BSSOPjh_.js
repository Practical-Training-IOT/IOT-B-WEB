/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{e,a as t}from"./087AC4D233B64EB0exportTemplate.DgOMzIe3.js";import{g as o,i as a,o as n,w as r,h as i,E as p}from"./087AC4D233B64EB0index.CO5TVuii.js";const s={__name:"exportExcel",props:{filterDeleted:{type:Boolean,default:!0},templateId:{type:String,required:!0},condition:{type:Object,default:()=>({})},limit:{type:Number,default:0},offset:{type:Number,default:0},order:{type:String,default:""}},setup(t){const s=t,c=async()=>{if(""===s.templateId)return void p.error("组件未设置模板ID");const t=JSON.parse(JSON.stringify(s.condition));s.filterDeleted&&(t.filterDeleted="true"),s.limit&&(t.limit=s.limit),s.offset&&(t.offset=s.offset),s.order&&(t.order=s.order);const o=Object.entries(t).map((([e,t])=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)))).join("&"),a=await e({templateID:s.templateId,params:o});if(0===a.code){p.success("创建导出任务成功，开始下载");const e="".concat("/api").concat(a.data);window.open(e,"_blank")}};return(e,t)=>{const p=o("el-button");return n(),a(p,{type:"primary",icon:"download",onClick:c},{default:r((()=>t[0]||(t[0]=[i("导出")]))),_:1})}}},c={__name:"exportTemplate",props:{templateId:{type:String,required:!0}},setup(e){const s=e,c=async()=>{if(""===s.templateId)return void p.error("组件未设置模板ID");const e=await t({templateID:s.templateId});if(0===e.code){p.success("创建导出任务成功，开始下载");const t="".concat("/api").concat(e.data);window.open(t,"_blank")}};return(e,t)=>{const p=o("el-button");return n(),a(p,{type:"primary",icon:"download",onClick:c},{default:r((()=>t[0]||(t[0]=[i("下载模板")]))),_:1})}}};export{c as _,s as a};
