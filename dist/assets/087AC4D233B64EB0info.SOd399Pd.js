/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{_ as e,g as a,f as l,c as t,u}from"./087AC4D233B64EB0selectFile.Dsy_u248.js";import{Q as s,u as o,a as n,r,g as d,c,o as i,b as m,f as p,w as v,F as f,D as b,i as y,h as _,E as h}from"./087AC4D233B64EB0index.CO5TVuii.js";import{_ as V}from"./087AC4D233B64EB0rich-edit.ylmqdvQl.js";import"./087AC4D233B64EB0image.DZXThNBc.js";const D={class:"gva-form-box"},g=Object.assign({name:"InfoForm"},{__name:"info",setup(g){const w=s(),B=o(),I=n(""),C=n({title:"",content:"",userID:void 0,attachments:[]}),j=r({}),k=n(),E=n([]);(async()=>{const e=await a();0===e.code&&(E.value=e.data)})();(async()=>{if(w.query.id){const e=await l({ID:w.query.id});0===e.code&&(C.value=e.data,I.value="update")}else I.value="create"})();const x=async()=>{var e;null==(e=k.value)||e.validate((async e=>{if(!e)return;let a;switch(I.value){case"create":default:a=await t(C.value);break;case"update":a=await u(C.value)}0===a.code&&h({type:"success",message:"创建/更改成功"})}))},A=()=>{B.go(-1)};return(a,l)=>{const t=d("el-input"),u=d("el-form-item"),s=d("el-option"),o=d("el-select"),n=d("el-button"),r=d("el-form");return i(),c("div",null,[m("div",D,[p(r,{model:C.value,ref_key:"elFormRef",ref:k,"label-position":"right",rules:j,"label-width":"80px"},{default:v((()=>[p(u,{label:"标题:",prop:"title"},{default:v((()=>[p(t,{modelValue:C.value.title,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value.title=e),clearable:!0,placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),p(u,{label:"内容:",prop:"content"},{default:v((()=>[p(V,{modelValue:C.value.content,"onUpdate:modelValue":l[1]||(l[1]=e=>C.value.content=e)},null,8,["modelValue"])])),_:1}),p(u,{label:"作者:",prop:"userID"},{default:v((()=>[p(o,{modelValue:C.value.userID,"onUpdate:modelValue":l[2]||(l[2]=e=>C.value.userID=e),placeholder:"请选择作者",style:{width:"100%"},clearable:!0},{default:v((()=>[(i(!0),c(f,null,b(E.value.userID,((e,a)=>(i(),y(s,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(u,{label:"附件:",prop:"attachments"},{default:v((()=>[p(e,{modelValue:C.value.attachments,"onUpdate:modelValue":l[3]||(l[3]=e=>C.value.attachments=e)},null,8,["modelValue"])])),_:1}),p(u,null,{default:v((()=>[p(n,{type:"primary",onClick:x},{default:v((()=>l[4]||(l[4]=[_("保存")]))),_:1}),p(n,{type:"primary",onClick:A},{default:v((()=>l[5]||(l[5]=[_("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{g as default};
