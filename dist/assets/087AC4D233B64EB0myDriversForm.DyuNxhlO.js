/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{f as e,c as l,u as a}from"./087AC4D233B64EB0myDrivers.jtjtax34.js";import{Q as r,u,a as d,r as o,g as t,c as i,o as s,b as m,f as n,w as v,F as p,D as c,i as b,h as f,S as y,E as V}from"./087AC4D233B64EB0index.CO5TVuii.js";const _={class:"gva-form-box"},h=Object.assign({name:"MyDriversForm"},{__name:"myDriversForm",setup(h){const g=r(),w=u(),N=d(!1),U=d(""),A=d([]),D=d([]),k=d({driverName:"",driverType:"",mirrorNumber:"",agreement:"",mirrorAddress:"",driverIdentification:"",version:"",description:""}),I=o({}),T=d();(async()=>{if(g.query.id){const l=await e({ID:g.query.id});0===l.code&&(k.value=l.data,U.value="update")}else U.value="create";A.value=await y("drive_type"),D.value=await y("AgreementType")})();const x=async()=>{var e;N.value=!0,null==(e=T.value)||e.validate((async e=>{if(!e)return N.value=!1;let r;switch(U.value){case"create":default:r=await l(k.value);break;case"update":r=await a(k.value)}N.value=!1,0===r.code&&V({type:"success",message:"创建/更改成功"})}))},B=()=>{w.go(-1)};return(e,l)=>{const a=t("el-input"),r=t("el-form-item"),u=t("el-option"),d=t("el-select"),o=t("el-button"),y=t("el-form");return s(),i("div",null,[m("div",_,[n(y,{model:k.value,ref_key:"elFormRef",ref:T,"label-position":"right",rules:I,"label-width":"80px"},{default:v((()=>[n(r,{label:"驱动名称:",prop:"driverName"},{default:v((()=>[n(a,{modelValue:k.value.driverName,"onUpdate:modelValue":l[0]||(l[0]=e=>k.value.driverName=e),clearable:!0,placeholder:"请输入驱动名称"},null,8,["modelValue"])])),_:1}),n(r,{label:"驱动类型:",prop:"driverType"},{default:v((()=>[n(d,{modelValue:k.value.driverType,"onUpdate:modelValue":l[1]||(l[1]=e=>k.value.driverType=e),placeholder:"请选择驱动类型",style:{width:"100%"},filterable:"",clearable:!0},{default:v((()=>[(s(!0),i(p,null,c(A.value,((e,l)=>(s(),b(u,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(r,{label:"镜像编号:",prop:"mirrorNumber"},{default:v((()=>[n(a,{modelValue:k.value.mirrorNumber,"onUpdate:modelValue":l[2]||(l[2]=e=>k.value.mirrorNumber=e),clearable:!0,placeholder:"请输入镜像编号"},null,8,["modelValue"])])),_:1}),n(r,{label:"协议:",prop:"agreement"},{default:v((()=>[n(d,{modelValue:k.value.agreement,"onUpdate:modelValue":l[3]||(l[3]=e=>k.value.agreement=e),placeholder:"请选择协议",style:{width:"100%"},filterable:"",clearable:!0},{default:v((()=>[(s(!0),i(p,null,c(D.value,((e,l)=>(s(),b(u,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(r,{label:"驱动镜像地址:",prop:"mirrorAddress"},{default:v((()=>[n(a,{modelValue:k.value.mirrorAddress,"onUpdate:modelValue":l[4]||(l[4]=e=>k.value.mirrorAddress=e),clearable:!0,placeholder:"请输入驱动镜像地址"},null,8,["modelValue"])])),_:1}),n(r,{label:"驱动标识:",prop:"driverIdentification"},{default:v((()=>[n(a,{modelValue:k.value.driverIdentification,"onUpdate:modelValue":l[5]||(l[5]=e=>k.value.driverIdentification=e),clearable:!0,placeholder:"请输入驱动标识"},null,8,["modelValue"])])),_:1}),n(r,{label:"版本:",prop:"version"},{default:v((()=>[n(a,{modelValue:k.value.version,"onUpdate:modelValue":l[6]||(l[6]=e=>k.value.version=e),clearable:!0,placeholder:"请输入版本"},null,8,["modelValue"])])),_:1}),n(r,{label:"描述:",prop:"description"},{default:v((()=>[n(a,{modelValue:k.value.description,"onUpdate:modelValue":l[7]||(l[7]=e=>k.value.description=e),clearable:!0,placeholder:"请输入描述"},null,8,["modelValue"])])),_:1}),n(r,null,{default:v((()=>[n(o,{loading:N.value,type:"primary",onClick:x},{default:v((()=>l[8]||(l[8]=[f("保存")]))),_:1},8,["loading"]),n(o,{type:"primary",onClick:B},{default:v((()=>l[9]||(l[9]=[f("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{h as default};
