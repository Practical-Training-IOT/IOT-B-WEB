/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{f as e,c as l,u as a}from"./087AC4D233B64EB0products.C1qzGeWe.js";import{Q as t,u,a as o,r,g as d,c as p,o as s,b as c,f as i,w as n,F as m,D as v,i as y,h as b,S as f,E as g}from"./087AC4D233B64EB0index.CO5TVuii.js";import{_ as w}from"./087AC4D233B64EB0rich-edit.ylmqdvQl.js";import"./087AC4D233B64EB0image.DZXThNBc.js";const V={class:"gva-form-box"},_=Object.assign({name:"ProductsForm"},{__name:"productsForm",setup(_){const h=t(),k=u(),T=o(!1),C=o(""),D=o([]),F=o([]),U=o([]),q=o([]),B=o([]),P=o([]),j=o({platform:"",productName:"",category:"",selectCategory:"",nodeType:"",gatewayProtocol:"",dataFormat:"",networkType:"",factory:"",productDescription:""}),E=r({category:[{required:!0,message:"",trigger:["input","blur"]}],selectCategory:[{required:!0,message:"",trigger:["input","blur"]}],nodeType:[{required:!0,message:"",trigger:["input","blur"]}],gatewayProtocol:[{required:!0,message:"",trigger:["input","blur"]}],dataFormat:[{required:!0,message:"",trigger:["input","blur"]}],networkType:[{required:!0,message:"",trigger:["input","blur"]}]}),x=o();(async()=>{if(h.query.id){const l=await e({ID:h.query.id});0===l.code&&(j.value=l.data,C.value="update")}else C.value="create";D.value=await f("nodeType"),F.value=await f("gatewayProtocol"),U.value=await f("dataFormat"),q.value=await f("platformType"),B.value=await f("category"),P.value=await f("networkType")})();const A=async()=>{var e;T.value=!0,null==(e=x.value)||e.validate((async e=>{if(!e)return T.value=!1;let t;switch(C.value){case"create":default:t=await l(j.value);break;case"update":t=await a(j.value)}T.value=!1,0===t.code&&g({type:"success",message:"创建/更改成功"})}))},N=()=>{k.go(-1)};return(e,l)=>{const a=d("el-option"),t=d("el-select"),u=d("el-form-item"),o=d("el-input"),r=d("el-button"),f=d("el-form");return s(),p("div",null,[c("div",V,[i(f,{model:j.value,ref_key:"elFormRef",ref:x,"label-position":"right",rules:E,"label-width":"80px"},{default:n((()=>[i(u,{label:"存储平台:",prop:"platform"},{default:n((()=>[i(t,{modelValue:j.value.platform,"onUpdate:modelValue":l[0]||(l[0]=e=>j.value.platform=e),placeholder:"请选择存储平台",style:{width:"100%"},filterable:"",clearable:!0},{default:n((()=>[(s(!0),p(m,null,v(q.value,((e,l)=>(s(),y(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(u,{label:"产品名称:",prop:"productName"},{default:n((()=>[i(o,{modelValue:j.value.productName,"onUpdate:modelValue":l[1]||(l[1]=e=>j.value.productName=e),clearable:!0,placeholder:"请输入产品名称"},null,8,["modelValue"])])),_:1}),i(u,{label:"所属品类:",prop:"category"},{default:n((()=>[i(t,{modelValue:j.value.category,"onUpdate:modelValue":l[2]||(l[2]=e=>j.value.category=e),placeholder:"请选择所属品类",style:{width:"100%"},filterable:"",clearable:!0},{default:n((()=>[(s(!0),p(m,null,v(B.value,((e,l)=>(s(),y(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(u,{label:"选择标准品类:",prop:"selectCategory"},{default:n((()=>[i(o,{modelValue:j.value.selectCategory,"onUpdate:modelValue":l[3]||(l[3]=e=>j.value.selectCategory=e),clearable:!0,placeholder:"请输入选择标准品类"},null,8,["modelValue"])])),_:1}),i(u,{label:"节点类型:",prop:"nodeType"},{default:n((()=>[i(t,{modelValue:j.value.nodeType,"onUpdate:modelValue":l[4]||(l[4]=e=>j.value.nodeType=e),placeholder:"请选择节点类型",style:{width:"100%"},filterable:"",clearable:!0},{default:n((()=>[(s(!0),p(m,null,v(D.value,((e,l)=>(s(),y(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(u,{label:"接入网关协议:",prop:"gatewayProtocol"},{default:n((()=>[i(t,{modelValue:j.value.gatewayProtocol,"onUpdate:modelValue":l[5]||(l[5]=e=>j.value.gatewayProtocol=e),placeholder:"请选择接入网关协议",style:{width:"100%"},filterable:"",clearable:!0},{default:n((()=>[(s(!0),p(m,null,v(F.value,((e,l)=>(s(),y(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(u,{label:"数据格式:",prop:"dataFormat"},{default:n((()=>[i(t,{modelValue:j.value.dataFormat,"onUpdate:modelValue":l[6]||(l[6]=e=>j.value.dataFormat=e),placeholder:"请选择数据格式",style:{width:"100%"},filterable:"",clearable:!0},{default:n((()=>[(s(!0),p(m,null,v(U.value,((e,l)=>(s(),y(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(u,{label:"网络类型:",prop:"networkType"},{default:n((()=>[i(t,{modelValue:j.value.networkType,"onUpdate:modelValue":l[7]||(l[7]=e=>j.value.networkType=e),placeholder:"请选择网络类型",style:{width:"100%"},filterable:"",clearable:!0},{default:n((()=>[(s(!0),p(m,null,v(P.value,((e,l)=>(s(),y(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(u,{label:"工厂:",prop:"factory"},{default:n((()=>[i(o,{modelValue:j.value.factory,"onUpdate:modelValue":l[8]||(l[8]=e=>j.value.factory=e),clearable:!0,placeholder:"请输入工厂"},null,8,["modelValue"])])),_:1}),i(u,{label:"产品描述:",prop:"productDescription"},{default:n((()=>[i(w,{modelValue:j.value.productDescription,"onUpdate:modelValue":l[9]||(l[9]=e=>j.value.productDescription=e)},null,8,["modelValue"])])),_:1}),i(u,null,{default:n((()=>[i(r,{loading:T.value,type:"primary",onClick:A},{default:n((()=>l[10]||(l[10]=[b("保存")]))),_:1},8,["loading"]),i(r,{type:"primary",onClick:N},{default:n((()=>l[11]||(l[11]=[b("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{_ as default};
