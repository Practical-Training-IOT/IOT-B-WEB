/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{f as e,c as l,u as a}from"./087AC4D233B64EB0records.CPdQEAVz.js";import{Q as u,u as r,a as t,r as o,g as s,c as d,o as i,b as p,f as m,w as c,h as n,E as v}from"./087AC4D233B64EB0index.CO5TVuii.js";const f={class:"gva-form-box"},g=Object.assign({name:"RecordsForm"},{__name:"recordsForm",setup(g){const b=u(),V=r(),y=t(!1),_=t(""),h=t({ruleName:"",ruleLevel:"",triggeringTime:new Date,processingTime:new Date,status:"",processResult:""}),w=o({}),T=t();(async()=>{if(b.query.id){const l=await e({ID:b.query.id});0===l.code&&(h.value=l.data,_.value="update")}else _.value="create"})();const R=async()=>{var e;y.value=!0,null==(e=T.value)||e.validate((async e=>{if(!e)return y.value=!1;let u;switch(_.value){case"create":default:u=await l(h.value);break;case"update":u=await a(h.value)}y.value=!1,0===u.code&&v({type:"success",message:"创建/更改成功"})}))},U=()=>{V.go(-1)};return(e,l)=>{const a=s("el-input"),u=s("el-form-item"),r=s("el-date-picker"),t=s("el-button"),o=s("el-form");return i(),d("div",null,[p("div",f,[m(o,{model:h.value,ref_key:"elFormRef",ref:T,"label-position":"right",rules:w,"label-width":"80px"},{default:c((()=>[m(u,{label:"告警规则名称:",prop:"ruleName"},{default:c((()=>[m(a,{modelValue:h.value.ruleName,"onUpdate:modelValue":l[0]||(l[0]=e=>h.value.ruleName=e),clearable:!0,placeholder:"请输入告警规则名称"},null,8,["modelValue"])])),_:1}),m(u,{label:"告警等级:",prop:"ruleLevel"},{default:c((()=>[m(a,{modelValue:h.value.ruleLevel,"onUpdate:modelValue":l[1]||(l[1]=e=>h.value.ruleLevel=e),clearable:!0,placeholder:"请输入告警等级"},null,8,["modelValue"])])),_:1}),m(u,{label:"触发时间:",prop:"triggeringTime"},{default:c((()=>[m(r,{modelValue:h.value.triggeringTime,"onUpdate:modelValue":l[2]||(l[2]=e=>h.value.triggeringTime=e),type:"date",style:{width:"100%"},placeholder:"选择日期",clearable:!0},null,8,["modelValue"])])),_:1}),m(u,{label:"处理时间:",prop:"processingTime"},{default:c((()=>[m(r,{modelValue:h.value.processingTime,"onUpdate:modelValue":l[3]||(l[3]=e=>h.value.processingTime=e),type:"date",style:{width:"100%"},placeholder:"选择日期",clearable:!0},null,8,["modelValue"])])),_:1}),m(u,{label:"告警状态:",prop:"status"},{default:c((()=>[m(a,{modelValue:h.value.status,"onUpdate:modelValue":l[4]||(l[4]=e=>h.value.status=e),clearable:!0,placeholder:"请输入告警状态"},null,8,["modelValue"])])),_:1}),m(u,{label:"处理结果:",prop:"processResult"},{default:c((()=>[m(a,{modelValue:h.value.processResult,"onUpdate:modelValue":l[5]||(l[5]=e=>h.value.processResult=e),clearable:!0,placeholder:"请输入处理结果"},null,8,["modelValue"])])),_:1}),m(u,null,{default:c((()=>[m(t,{loading:y.value,type:"primary",onClick:R},{default:c((()=>l[6]||(l[6]=[n("保存")]))),_:1},8,["loading"]),m(t,{type:"primary",onClick:U},{default:c((()=>l[7]||(l[7]=[n("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{g as default};
