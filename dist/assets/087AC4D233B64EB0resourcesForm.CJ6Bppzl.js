/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{f as e,c as a,u as l}from"./087AC4D233B64EB0resources.Bfh7D7RJ.js";import{Q as u,u as t,a as s,r as o,g as r,c as d,o as n,b as c,f as i,w as p,F as m,D as v,i as f,h as b,S as y,E as g}from"./087AC4D233B64EB0index.CO5TVuii.js";const _={class:"gva-form-box"},w=Object.assign({name:"ResourcesForm"},{__name:"resourcesForm",setup(w){const h=u(),V=t(),k=s(!1),T=s(""),x=s([]),B=s([]),C=s({name:"",protocolType:"",status:""}),D=o({name:[{required:!0,message:"",trigger:["input","blur"]}]}),F=s();(async()=>{if(h.query.id){const a=await e({ID:h.query.id});0===a.code&&(C.value=a.data,T.value="update")}else T.value="create";x.value=await y("ResourceStatus"),B.value=await y("AgreementType")})();const j=async()=>{var e;k.value=!0,null==(e=F.value)||e.validate((async e=>{if(!e)return k.value=!1;let u;switch(T.value){case"create":default:u=await a(C.value);break;case"update":u=await l(C.value)}k.value=!1,0===u.code&&g({type:"success",message:"创建/更改成功"})}))},q=()=>{V.go(-1)};return(e,a)=>{const l=r("el-input"),u=r("el-form-item"),t=r("el-option"),s=r("el-select"),o=r("el-button"),y=r("el-form");return n(),d("div",null,[c("div",_,[i(y,{model:C.value,ref_key:"elFormRef",ref:F,"label-position":"right",rules:D,"label-width":"80px"},{default:p((()=>[i(u,{label:"资源名称:",prop:"name"},{default:p((()=>[i(l,{modelValue:C.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value.name=e),clearable:!0,placeholder:"请输入资源名称"},null,8,["modelValue"])])),_:1}),i(u,{label:"协议类型:",prop:"protocolType"},{default:p((()=>[i(s,{modelValue:C.value.protocolType,"onUpdate:modelValue":a[1]||(a[1]=e=>C.value.protocolType=e),placeholder:"请选择协议类型",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(n(!0),d(m,null,v(B.value,((e,a)=>(n(),f(t,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(u,{label:"资源状态:",prop:"status"},{default:p((()=>[i(s,{modelValue:C.value.status,"onUpdate:modelValue":a[2]||(a[2]=e=>C.value.status=e),placeholder:"请选择资源状态",style:{width:"100%"},filterable:"",clearable:!0},{default:p((()=>[(n(!0),d(m,null,v(x.value,((e,a)=>(n(),f(t,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(u,null,{default:p((()=>[i(o,{loading:k.value,type:"primary",onClick:j},{default:p((()=>a[3]||(a[3]=[b("保存")]))),_:1},8,["loading"]),i(o,{type:"primary",onClick:q},{default:p((()=>a[4]||(a[4]=[b("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{w as default};
