/*! 
 Build based on gin-vue-admin 
 Time : 1746843967000 */
import{f as e,c as a,u as l}from"./087AC4D233B64EB0scenes.CkSigh5I.js";import{Q as t,u as s,a as u,r as o,g as n,c as r,o as i,b as c,f as d,w as m,h as p,E as v}from"./087AC4D233B64EB0index.CO5TVuii.js";import{_ as f}from"./087AC4D233B64EB0rich-edit.ylmqdvQl.js";import"./087AC4D233B64EB0image.DZXThNBc.js";const b={class:"gva-form-box"},y=Object.assign({name:"ScenesForm"},{__name:"scenesForm",setup(y){const g=t(),V=s(),_=u(!1),h=u(""),w=u({scenename:"",scenedescription:"",creationtime:new Date,enabledstatus:!1}),B=o({scenename:[{required:!0,message:"",trigger:["input","blur"]}]}),x=u();(async()=>{if(g.query.id){const a=await e({ID:g.query.id});0===a.code&&(w.value=a.data,h.value="update")}else h.value="create"})();const C=async()=>{var e;_.value=!0,null==(e=x.value)||e.validate((async e=>{if(!e)return _.value=!1;let t;switch(h.value){case"create":default:t=await a(w.value);break;case"update":t=await l(w.value)}_.value=!1,0===t.code&&v({type:"success",message:"创建/更改成功"})}))},D=()=>{V.go(-1)};return(e,a)=>{const l=n("el-input"),t=n("el-form-item"),s=n("el-date-picker"),u=n("el-switch"),o=n("el-button"),v=n("el-form");return i(),r("div",null,[c("div",b,[d(v,{model:w.value,ref_key:"elFormRef",ref:x,"label-position":"right",rules:B,"label-width":"80px"},{default:m((()=>[d(t,{label:"场景的名称。:",prop:"scenename"},{default:m((()=>[d(l,{modelValue:w.value.scenename,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value.scenename=e),clearable:!0,placeholder:"请输入场景的名称。"},null,8,["modelValue"])])),_:1}),d(t,{label:"场景的描述。:",prop:"scenedescription"},{default:m((()=>[d(f,{modelValue:w.value.scenedescription,"onUpdate:modelValue":a[1]||(a[1]=e=>w.value.scenedescription=e)},null,8,["modelValue"])])),_:1}),d(t,{label:"场景创建的时间。:",prop:"creationtime"},{default:m((()=>[d(s,{modelValue:w.value.creationtime,"onUpdate:modelValue":a[2]||(a[2]=e=>w.value.creationtime=e),type:"date",style:{width:"100%"},placeholder:"选择日期",clearable:!0},null,8,["modelValue"])])),_:1}),d(t,{label:"场景是否启用的状态。:",prop:"enabledstatus"},{default:m((()=>[d(u,{modelValue:w.value.enabledstatus,"onUpdate:modelValue":a[3]||(a[3]=e=>w.value.enabledstatus=e),"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否",clearable:""},null,8,["modelValue"])])),_:1}),d(t,null,{default:m((()=>[d(o,{loading:_.value,type:"primary",onClick:C},{default:m((()=>a[4]||(a[4]=[p("保存")]))),_:1},8,["loading"]),d(o,{type:"primary",onClick:D},{default:m((()=>a[5]||(a[5]=[p("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{y as default};
